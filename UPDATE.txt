cp1251

Краткая информация по обновлению NoDeny.

Для обновления используйте скрипт install.pl:

bash# perl install.pl

Внимание. Если вы ошиблись при вводе данных, либо скрипт обнаружил
нестыковки, что привело к завершению работы скрипта, обратите внимание
на последнее сообщение, если оно:

NO CHANGES MADE - никаких обновлений или изменений в файлах, а также
базе данных NoDeny скрипт не производил. Вы можете смело запускать
install.pl повторно.

При устойчивых ошибках вышлите лог разработчикам NoDeny.


********************************************************************

После обновления перезапишите конфиг каждого из сателлитов - зайдите
в админку: `Операции`->`Настройки`->`Сателлиты` и для каждого из
сателлитов нажмите `сохранить`.

********************************************************************


Если что-то пошло не по сценарию либо вы хотите обновиться вручную,
прочтите следующее.

Весь процесс обновления состоит из:

- обновления скриптов;
- обновления базы данных.

Обновление скриптов - просто замена текущих файлов на новые версии.
Никаких дополнительных действий не требуется.

Внимание! Конфигурационные файлы:

nodeny.cfg.pl
nodeny.cfg
sat.cfg

обновлять не нужно!

Не забывайте обновить файлы во всех каталогах NoDeny:

/usr/local/nodeny/
/../www/../cgi-bin
/../www/../data/i

В последнем каталоге находятся не только изображения и css, но
и javascript-файл md5.js. Он меняется редко, но если его не обновить
возникнут проблемы в работе. Также редко, но меняются изображения
и ccs-файл.

После обновления не забудьте выставить правильные права и владельцев
файлов. Все файлы должны быть защищены от записи, т.е. не иметь
флага разрешающего запись.

На запись должен быть разрешен лишь файл nodeny.cfg.pl. Причем владелец
должен быть www. Добавьте в конец этого файла содержимое update_config.pl.

Обновление базы данных обычно касается изменения структуры ее таблиц,
без которого функционирование скриптов будет невозможным либо некорректным.

**************************************************************************

При апдейте на 49.33 (50.33) необходимо дать права EXECUTE логину bill_www
в mysql!